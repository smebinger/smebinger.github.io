<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Leaflet Map with a Basemap</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  
  <!-- lets load Leaflet's .js and .css from CDN-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>  

  <!-- Load Esri Leaflet from CDN.  it has no .css stylesheet of its own, only .js -->
  <script src="https://unpkg.com/esri-leaflet@2.5.3/dist/esri-leaflet.js"
    integrity="sha512-K0Vddb4QdnVOAuPJBHkgrua+/A9Moyv8AQEWi0xndQ+fqbRfAFd47z4A9u1AW/spLO0gEaiE1z98PK1gl5mC5Q=="
    crossorigin=""></script>
  
  <!-- Load Esri Leaflet Renderers from CDN -->
<script src="https://unpkg.com/esri-leaflet-renderers@2.1.2/dist/esri-leaflet-renderers.js"
  integrity="sha512-/McnqdlwYvfeOEWqoniEagFRQnLi/TNbkHe4EJypmZI02LBT7vBU/+PZ5W3FSsFFlRbnMCsJvnbp5MX8XOBrnQ=="
  crossorigin=""></script>
    
  <style>
    html,
    body,
    #map {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
   
</head>
<body>
 <div id="map"></div>
  <script>
    const map = L.map('map', {
      center: [44.491, -71.113],
      zoom: 10
    });
   
    //L.esri.basemapLayer('ImageryClarity').addTo(map); 
    
    L.tileLayer('https://api.mapbox.com/styles/v1/smebinger/ckl5vhc2k4qks17pms68ojsjt/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoic21lYmluZ2VyIiwiYSI6ImNqMGVlZ3ducjAwejEzMm5zOG05aWUzcjEifQ.BuETqSmrqIHckR2AdhGmFw').addTo(map);
              
     
    var nhPeaks = L.esri.featureLayer({
      url: 'https://services8.arcgis.com/iIjFHbPiKk5EdksF/arcgis/rest/services/NH_4000_Footer_Mountain_Peaks/FeatureServer/0'
    }).addTo(map);
    
    nhPeaks.bindPopup(function (layer) {
      return L.Util.template('<p>Peak name: {Name},{Elev_Feet}</p>', layer.feature.properties);
    });
    
  </script> 
  
  
  
  
  
  
  
</body>
</html>
